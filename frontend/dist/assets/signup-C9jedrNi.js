import{i as g,v as p,d as f,a as v}from"./util-DwtvpL__.js";const w="https://samvaad-r7bw.onrender.com";function E(){const a=document.getElementById("signupForm");if(!a)return;const o=document.getElementById("signupUserName"),u=document.getElementById("userEmail"),d=document.getElementById("signupUserPassword"),m=document.getElementById("signupConfirmPassword"),n=document.getElementById("signupError");async function l(i,t,s){try{const e=await fetch(`${w}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,email:t,password:s})}),r=await e.json();if(!e.ok){n.innerText=r.message||"Signup failed";return}n.style.color="green",n.innerText="Signup successful! You can login now."}catch(e){n.innerText="Signup error: "+e.message,console.error(e)}}a.addEventListener("submit",i=>{i.preventDefault();const t=o.value.trim(),s=u.value.trim(),e=d.value.trim(),r=m.value.trim();if(g(t,s,e,r)){n.innerText="Please provide all details";return}const c=p(e);if(c){n.innerText=c;return}if(!f(e,r)){n.innerText="Passwords do not match";return}if(!v(s)){n.innerText="Invalid email address";return}l(t,s,e),o.value="",u.value="",d.value="",m.value=""})}export{E as initSignup};
